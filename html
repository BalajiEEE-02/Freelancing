<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Balaji Audios & Electricals — Dashboard (Demo)</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#6ee7b7; --glass: rgba(255,255,255,0.04);
      --glass-2: rgba(255,255,255,0.02);
      --radius:14px;
      font-family: 'Inter',system-ui, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;background:linear-gradient(180deg,#061426 0%, #081424 45%, #071523 100%);color:#e6eef6}
    header{display:flex;align-items:center;justify-content:space-between;padding:20px 28px}
    .brand{display:flex;gap:14px;align-items:center}
    .logo{width:48px;height:48px;background:linear-gradient(135deg,#10b981,#06b6d4);border-radius:12px;display:grid;place-items:center;font-weight:800;color:#042022}
    .brand h1{font-size:18px;margin:0}
    .actions{display:flex;gap:12px;align-items:center}
    .btn{background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:12px;cursor:pointer}

    main{padding:28px}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:24px;margin-bottom:22px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:22px;border-radius:var(--radius);box-shadow: 0 6px 18px rgba(2,6,23,0.6);}
    .welcome h2{margin:0 0 8px 0}
    .muted{color:var(--muted);font-size:14px}

    /* services grid */
    .services{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:16px}
    .service{padding:14px;border-radius:12px;background:var(--glass-2);min-height:98px;display:flex;flex-direction:column;gap:8px}
    .service h3{margin:0;font-size:15px}
    .service p{margin:0;color:var(--muted);font-size:13px}

    /* right column */
    .profile{display:flex;flex-direction:column;gap:12px}
    .profile .stat{display:flex;gap:12px;align-items:center}

    /* toolkit */
    .toolkit{margin-top:18px;display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .tool{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));}

    footer{padding:20px 28px;color:var(--muted);font-size:13px}

    /* login modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:grid;place-items:center;z-index:60}
    .modal{width:420px;max-width:95%;border-radius:18px;padding:22px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 40px rgba(0,0,0,0.7)}
    .modal h3{margin:0 0 10px 0}
    .field{display:flex;flex-direction:column;margin-bottom:10px}
    .field input{padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .row{display:flex;gap:10px}
    .google-btn{display:flex;align-items:center;gap:10px;padding:10px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);cursor:pointer;background:linear-gradient(90deg,#fff 0%, #fff 0%);color:#071522}
    .google-btn svg{width:18px;height:18px}

    /* responsive */
    @media(max-width:980px){.hero{grid-template-columns:1fr;}.services{grid-template-columns:repeat(2,1fr)}.toolkit{grid-template-columns:1fr}}
    @media(max-width:520px){.services{grid-template-columns:1fr}}

    /* tiny helpers */
    .hidden{display:none}
    .chip{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:10px;font-size:13px}

    /* nice micro interactions */
    .btn, .service, .tool{transition:transform .16s, box-shadow .16s}
    .btn:hover, .service:hover, .tool:hover{transform:translateY(-4px)}

  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">BA</div>
      <div>
        <h1>Balaji Audios & Electricals</h1>
        <div class="muted">Professional services • Home wiring • CCTV • Solar • Toolkit</div>
      </div>
    </div>
    <div class="actions">
      <div class="chip" id="userChip">Demo</div>
      <button class="btn" id="openLogin">Sign In</button>
    </div>
  </header>

  <main>
    <div class="hero">
      <section class="card welcome">
        <h2 id="welcomeTitle">Welcome — Guest</h2>
        <div class="muted">Showcasing services, past projects and your electrician toolkit. Sign in to unlock premium tools and save preferences.</div>

        <div class="services" aria-live="polite">
          <div class="service">
            <h3>Home Wiring</h3>
            <p>Design, installation and safety testing for residential wiring and panels.</p>
          </div>
          <div class="service">
            <h3>Solar Installations</h3>
            <p>Roof-top solar setup, inverter integration and net-metering guidance.</p>
          </div>
          <div class="service">
            <h3>CCTV & Networking</h3>
            <p>End-to-end camera setup, NVR configuration and Wi-Fi coverage planning.</p>
          </div>
          <div class="service">
            <h3>Speaker & Audio Systems</h3>
            <p>Speaker box design, wiring, and AV room tuning for best acoustics.</p>
          </div>
          <div class="service">
            <h3>Inverter / Battery Service</h3>
            <p>Maintenance, troubleshooting and battery health optimisation.</p>
          </div>
          <div class="service">
            <h3>Panel Upgrades</h3>
            <p>MCB, ELCB, meter relocation and load balancing for safer supply.</p>
          </div>
        </div>

        <div style="margin-top:18px;display:flex;gap:10px;align-items:center">
          <button class="btn" id="contactBtn">Request Quote</button>
          <button class="btn" id="viewToolkit">Open Toolkit</button>
        </div>
      </section>

      <aside class="profile card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div style="font-weight:700">Account</div>
            <div class="muted" id="accountEmail">Not signed in</div>
          </div>
          <div style="text-align:right">
            <div class="muted">Status</div>
            <div id="acctStatus">Guest</div>
          </div>
        </div>

        <div style="border-top:1px solid rgba(255,255,255,0.03);padding-top:12px">
          <div style="font-size:13px;margin-bottom:8px">Quick Actions</div>
          <div style="display:flex;flex-direction:column;gap:8px">
            <button class="btn" id="bookCall">Book Service</button>
            <button class="btn" id="portfolio">View Projects</button>
          </div>
        </div>

        <div style="margin-top:auto;color:var(--muted);font-size:13px">Pro tip: Sign in with Google to save your toolkit preferences.</div>
      </aside>
    </div>

    <!-- Toolkit area (hidden until open) -->
    <div id="toolkitArea" class="card hidden">
      <h3>Electrician Toolkit</h3>
      <div class="toolkit">
        <div class="tool">
          <h4>Ohm's Law Calculator</h4>
          <div class="muted">Calculate V, I, R or P from known values.</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <select id="ol_select">
              <option value="V">Find Voltage (V)</option>
              <option value="I">Find Current (I)</option>
              <option value="R">Find Resistance (R)</option>
              <option value="P">Find Power (P)</option>
            </select>
            <input id="ol_a" placeholder="Value A" />
            <input id="ol_b" placeholder="Value B" />
            <button class="btn" id="ol_calc">Calc</button>
          </div>
          <div style="margin-top:10px" id="ol_result"></div>
        </div>

        <div class="tool">
          <h4>Resistor Color Code (4-band)</h4>
          <div class="muted">Pick colors or enter resistance to convert.</div>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <input id="res_input" placeholder="e.g. 4.7k or 4700" />
            <button class="btn" id="res_conv">Convert</button>
          </div>
          <div style="margin-top:10px" id="res_out"></div>
        </div>

        <div class="tool">
          <h4>Wire Size Guide</h4>
          <div class="muted">Quick reference for typical loads and recommended cable AWG/mm².</div>
          <ul style="margin:8px 0 0 18px;color:var(--muted)">
            <li>Up to 10A — 1.5 mm²</li>
            <li>Up to 20A — 2.5 mm²</li>
            <li>Up to 32A — 4 mm²</li>
            <li>Up to 63A — 10 mm²</li>
          </ul>
        </div>

        <div class="tool">
          <h4>Load Balancer (estimate)</h4>
          <div class="muted">Split three-phase loads into balanced groups (demo).</div>
          <button class="btn" id="balanceBtn">Run Balance Demo</button>
          <div id="balanceOut" style="margin-top:8px;color:var(--muted)"></div>
        </div>

      </div>
    </div>

  </main>

  <footer>
    © <span id="year"></span> Balaji Audios & Electricals — Demo dashboard. For production, add server-side authentication.
  </footer>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal-backdrop hidden" role="dialog" aria-modal="true">
    <div class="modal" role="document">
      <h3>Sign in to your account</h3>
      <div class="muted" style="margin-bottom:12px">Use email & password or sign in with Google.</div>

      <div class="field">
        <label class="muted">Email</label>
        <input id="email" type="email" placeholder="you@example.com" />
      </div>
      <div class="field">
        <label class="muted">Password</label>
        <input id="password" type="password" placeholder="••••••••" />
      </div>
      <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
        <button class="btn" id="loginBtn">Sign in</button>
        <button class="btn" id="demoBtn">Demo Sign-in</button>
      </div>

      <div style="height:1px;background:rgba(255,255,255,0.02);margin:12px 0"></div>
      <div style="display:flex;gap:8px;align-items:center">
        <div style="flex:1;height:1px;background:rgba(255,255,255,0.02)"></div>
        <div class="muted">Or</div>
        <div style="flex:1;height:1px;background:rgba(255,255,255,0.02)"></div>
      </div>

      <div style="margin-top:12px;display:flex;gap:8px;flex-direction:column">
        <!-- Google sign-in button will call Firebase; if not configured falls back to message -->
        <div class="google-btn" id="googleSign">
          <svg viewBox="0 0 533.5 544.3" xmlns="http://www.w3.org/2000/svg"><path d="M533.5 278.4c0-17.7-1.6-35-4.8-51.7H272v98h147.4c-6.4 34.6-26 63.9-55.6 83.5v69.4h89.8c52.6-48.4 82-120 82-199.2z" fill="#4285F4"/><path d="M272 544.3c73.6 0 135.5-24.4 180.6-66.1l-89.8-69.4c-25 17-57 27-90.8 27-69.8 0-129-47.1-150.1-110.4H29.6v69.3C74.8 482.6 167 544.3 272 544.3z" fill="#34A853"/><path d="M121.9 327.3c-10.5-31.6-10.5-65.9 0-97.5V160.5H29.6c-29 58-29 125 0 183l92.3-16.2z" fill="#FBBC05"/><path d="M272 107.7c39.9 0 75.9 13.7 104.1 40.6l78.1-78.1C403.3 24.7 336.6 0 272 0 167 0 74.8 61.7 29.6 160.5l92.3 69.3C143 155 202.2 107.7 272 107.7z" fill="#EA4335"/></svg>
          Sign in with Google
        </div>

        <div class="muted" style="font-size:13px">By continuing you agree to our <u>Terms</u> and <u>Privacy</u>.</div>
      </div>

      <div style="margin-top:12px;display:flex;justify-content:flex-end">
        <button class="btn" id="closeLogin">Close</button>
      </div>
    </div>
  </div>

  <script>
    // ---------- Utilities & Demo auth ----------
    const $ = id=>document.getElementById(id);
    $('year').textContent = new Date().getFullYear();

    const openLogin = ()=>$('loginModal').classList.remove('hidden');
    const closeLogin = ()=>$('loginModal').classList.add('hidden');
    $('openLogin').addEventListener('click', openLogin);
    $('closeLogin').addEventListener('click', closeLogin);

    // Demo sign-in: localStorage-based quick demo for offline testing
    function demoSignIn(){
      const demoUser = {name:'Demo User',email:'demo@local'};
      localStorage.setItem('ba_user', JSON.stringify(demoUser));
      applyUser(demoUser);
      closeLogin();
    }
    $('demoBtn').addEventListener('click', demoSignIn);

    // Simple email/password mock (for demo only)
    $('loginBtn').addEventListener('click', ()=>{
      const email = $('email').value.trim();
      const pwd = $('password').value.trim();
      if(!email||!pwd){alert('Enter email and password (demo)');return}
      // NOTE: In production, submit to your server or Firebase Auth. Here we accept anything.
      const u={name: email.split('@')[0], email};
      localStorage.setItem('ba_user', JSON.stringify(u));
      applyUser(u);
      closeLogin();
    });

    // Google button click -> try Firebase sign-in if configured, otherwise show guide
    $('googleSign').addEventListener('click', ()=>{
      if(window.firebase && firebase.auth){
        // If firebase configured, trigger Google popup
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider).then(res=>{
          const user = res.user;
          const u={name:user.displayName,email:user.email};
          localStorage.setItem('ba_user', JSON.stringify(u));
          applyUser(u);
          closeLogin();
        }).catch(err=>alert('Firebase sign-in error: '+err.message));
      }else{
        alert('Firebase not configured in this demo. To enable Google sign-in: Add Firebase JS config in the HTML and enable Google provider in Firebase Console. See comments in the HTML file.');
      }
    });

    function applyUser(user){
      $('welcomeTitle').textContent = 'Welcome — '+(user.name||user.email);
      $('accountEmail').textContent = user.email||'';
      $('acctStatus').textContent = 'Signed in';
      $('userChip').textContent = (user.name||'User');
      $('openLogin').textContent = 'Sign Out';
      $('openLogin').addEventListener('click', signOutHandler);
    }
    function signOutHandler(){
      localStorage.removeItem('ba_user');
      location.reload();
    }

    // Restore user on load
    window.addEventListener('load', ()=>{
      const u = localStorage.getItem('ba_user');
      if(u) applyUser(JSON.parse(u));
    });

    // Toolkit functionality
    $('viewToolkit').addEventListener('click', ()=>$('toolkitArea').classList.toggle('hidden'));

    // Ohm's law: A and B meaning depends on selection
    $('ol_calc').addEventListener('click', ()=>{
      const mode = $('ol_select').value; const a = parseFloat($('ol_a').value); const b = parseFloat($('ol_b').value);
      let out='';
      try{
        if(mode==='V'){ out = 'V = I × R = '+(a*b).toFixed(4)+' V (I='+a+', R='+b+')'; }
        else if(mode==='I'){ out = 'I = V / R = '+(a/b).toFixed(4)+' A (V='+a+', R='+b+')'; }
        else if(mode==='R'){ out = 'R = V / I = '+(a/b).toFixed(4)+' Ω (V='+a+', I='+b+')'; }
        else if(mode==='P'){ out = 'P = V × I = '+(a*b).toFixed(4)+' W (V='+a+', I='+b+')'; }
      }catch(e){ out='Invalid input' }
      $('ol_result').textContent = out;
    });

    // Resistor converter (basic) – accepts numbers like 4.7k or 4700
    function parseRes(val){
      if(!val) return null;
      val = val.trim().toLowerCase();
      let mult=1;
      if(val.endsWith('k')){ mult=1000; val=val.slice(0,-1)}
      else if(val.endsWith('m')){ mult=1e6; val=val.slice(0,-1)}
      val = parseFloat(val);
      if(isNaN(val)) return null;
      return Math.round(val*mult);
    }
    function valueTo4Band(n){
      // returns array of color names (simple mapping) for 4-band
      const colors = ['black','brown','red','orange','yellow','green','blue','violet','grey','white'];
      const tol = 'gold';
      if(n<10) return [colors[0], colors[0], colors[0], tol];
      // find two significant digits and multiplier
      const s = n.toString();
      let digits = s.slice(0,2);
      let multiplier = s.length-2;
      const a = parseInt(digits[0]); const b = parseInt(digits[1]);
      return [colors[a], colors[b], colors[multiplier] || colors[0], tol];
    }
    $('res_conv').addEventListener('click', ()=>{
      const val = $('res_input').value;
      const n = parseRes(val);
      if(n===null){ $('res_out').textContent='Cannot parse input'; return }
      const bands = valueTo4Band(n);
      $('res_out').innerHTML = '≈ '+n+' Ω — Colors: '+bands.join(', ');
    });

    // Balance demo
    $('balanceBtn').addEventListener('click', ()=>{
      // demo: evenly split three loads
      const loads = [3600, 1200, 2400, 1800];
      const phases = [0,0,0];
      loads.sort((a,b)=>b-a);
      loads.forEach((l,i)=> phases[i%3]+=l);
      $('balanceOut').innerHTML = 'Phase loads (W): '+phases.join(' , ');
    });

    // Book/portfolio quick actions
    $('bookCall').addEventListener('click', ()=>alert('Request received — we will contact you (demo).'));
    $('portfolio').addEventListener('click', ()=>alert('Opening projects — demo.'));


    /* ===================================================================
       PRODUCTION NOTES (remove before shipping)
       1) The Google sign-in requires Firebase. To enable:
          - Create a Firebase project, enable Authentication -> Google provider.
          - Add the firebase sdk scripts and initialize with your config here.
          Example:
            <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
            <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
            <script>
              const firebaseConfig = { apiKey: "...", authDomain: "...", projectId: "...", /* etc */ };
              firebase.initializeApp(firebaseConfig);
            </script>
       2) For real email/password auth either use Firebase Auth or your server-side endpoint.
       3) Store minimal user info client-side; use secure HTTP-only cookies or server tokens for sessions.
       4) Replace demo/localStorage flows with secure server calls before going live.
       =================================================================== */

  </script>
</body>
</html>
